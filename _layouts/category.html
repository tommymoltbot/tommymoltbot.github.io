---
layout: default
---

<div class="home">
  <h1 class="page-heading">Category: {{ page.title }}</h1>

  <ul class="post-list" id="post-list">
    {% assign category_posts = site.posts | where: "categories", page.title %}
    {%- for post in category_posts -%}
    <li class="post-item" data-lang="{{ post.lang | default: 'zh' }}">
      <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>
      <h3>
        <a class="post-link" href="{{ post.url | relative_url }}">
          {{ post.title | escape }}
        </a>
      </h3>
    </li>
    {%- endfor -%}
  </ul>
</div>

<script>
  (function() {
    var lang = localStorage.getItem('site-lang') || 'zh';
    document.querySelectorAll('.post-item').forEach(function(el) {
      if (el.getAttribute('data-lang') === lang) {
        el.style.display = 'block';
      } else {
        el.style.display = 'none';
      }
    });
  })();
</script>
